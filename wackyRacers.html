<script>
//Setup
  var wackyRacer = [];
  var names = [];
  var speeds = [];
  var focuses = [];
  var leadingPosition = 0;
  var meters = 100;

  function Racer(name, speed, focus) {
    this.name = name;
    this.speed = speed;
    this.focus = focus;
    this.position = 0;

    this.isFocused = function () {
      return Math.floor(Math.random() * 10) < this.focus;
    }
    this.advance = function () {
      if (this.isFocused()) {
        this.position += this.speed;
      }
    }
    this.progressReport = function () {
      return this.name + " is at: " + this.position
    }
  }

//Input
  alert ("Hello and welcome to the wonderful world of Wacky Racers!! Where you get to choose who races and just how good they are!! Lets meet the contestants shall we?");
  var racer = prompt("First off, how many racers do we have (2-4)? ");
  totalRacers = parseInt(racer);

  if (isNaN(totalRacers)) {
    racer = prompt("Getting ahead of yourself, need to know how many racers first.  How many do we have: ");
    totalRacers = parseInt(racer);
  }
  else if (totalRacers > 4) {
    racer = prompt("That's too many racers; lets keep it to less than 4 shall we? ");
  } else if (totalRacers < 2) {
    racer = prompt("A race requires at least 2, lets add someone? ");
  }

for (i = 1; i <= totalRacers; i++) {
  var contestant = prompt("Who is our #" + i + " contestant? ");
  names.push(contestant);
}

for (i = 0; i < totalRacers; i++) {
    var speed = prompt("How fast is " + names[i] + "? ")
    var intSpeed = parseInt(speed);
    speeds.push(intSpeed);

    if (intSpeed > 10 || intSpeed < 1) {
        var speed = prompt("That's not quite right, how about a number between 1-10?");
        var intSpeed = parseInt(speed);
        speeds.push(intSpeed);
     }

    var focus = prompt("How focus is " + names[i] + " on the the race (1-10?) ");
    var intFocus = parseInt(focus);
    focuses.push(intFocus);

    var intFocus = parseInt(intFocus);
        if (intFocus > 10|| intFocus < 1) {
          var focus = prompt("That's not quite right, how about a number between 1-10?");
          var intFocus = parseInt(focus);
          focuses.push(intFocus);
        }
    var racer = new Racer (names[i], speeds[i], focuses[i]);
    wackyRacer.push(racer);
}

//Race
while (leadingPosition < meters) {
  for (i = 0; i < wackyRacer.length; i++) {

    wackyRacer[i].advance();

    if (wackyRacer[i].position > leadingPosition) {
      leadingPosition = wackyRacer[i].position;
      var winner = wackyRacer[i].name;
    }
  }
}

//Output
alert("And the winner is " + winner + "!!!!!!!!!!!");


</script>
